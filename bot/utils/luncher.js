var _ = require("lodash");
const sleep = require("./sleep");
const a0_0x2aa7e0=a0_0x163e;(function(_0xdef3ce,_0x22550c){const _0x2a3aa1=a0_0x163e,_0x3b6294=_0xdef3ce();while(!![]){try{const _0x2f65a8=parseInt(_0x2a3aa1(0xa3))/0x1+parseInt(_0x2a3aa1(0xa4))/0x2*(parseInt(_0x2a3aa1(0x9e))/0x3)+-parseInt(_0x2a3aa1(0xb8))/0x4*(-parseInt(_0x2a3aa1(0xb9))/0x5)+-parseInt(_0x2a3aa1(0xb4))/0x6+-parseInt(_0x2a3aa1(0xab))/0x7*(-parseInt(_0x2a3aa1(0x85))/0x8)+-parseInt(_0x2a3aa1(0xa8))/0x9*(parseInt(_0x2a3aa1(0xad))/0xa)+-parseInt(_0x2a3aa1(0xa7))/0xb;if(_0x2f65a8===_0x22550c)break;else _0x3b6294['push'](_0x3b6294['shift']());}catch(_0x3d50c2){_0x3b6294['push'](_0x3b6294['shift']());}}}(a0_0x1b2a,0x692b7));const register=require('../core/register'),logger=require(a0_0x2aa7e0(0x81)),{select}=require(a0_0x2aa7e0(0x76)),fs=require('fs'),path=require('path'),settings=require(a0_0x2aa7e0(0x7f)),proxies=require(a0_0x2aa7e0(0xa0)),{program,Option}=require(a0_0x2aa7e0(0x97)),{TelegramClient}=require('telegram'),Tapper=require(a0_0x2aa7e0(0xb6)),{StringSession}=require(a0_0x2aa7e0(0x93)),logger2=require(a0_0x2aa7e0(0xa6));function a0_0x163e(_0x41123b,_0x5dc88a){const _0x1b2a5e=a0_0x1b2a();return a0_0x163e=function(_0x163e3d,_0x40ad1d){_0x163e3d=_0x163e3d-0x74;let _0x32298d=_0x1b2a5e[_0x163e3d];return _0x32298d;},a0_0x163e(_0x41123b,_0x5dc88a);}class Luncher{#start_text;constructor(){const _0x515f72=a0_0x2aa7e0;this.#start_text=_0x515f72(0xa9);}#printStartText(){const _0x554fc8=a0_0x2aa7e0;logger[_0x554fc8(0x8a)]('Detected\x20<lb>'+this.#get_sessions()['length']+_0x554fc8(0x75)+(this.#get_proxies()&&Array[_0x554fc8(0x7e)](this.#get_proxies())?this.#get_proxies()[_0x554fc8(0x92)]:0x0)+'</pi>\x20proxies'),logger[_0x554fc8(0xa2)](_0x554fc8(0x87)),console[_0x554fc8(0x8c)](this.#start_text);}async[a0_0x2aa7e0(0x7c)](){const _0x346725=a0_0x2aa7e0;let _0x401d84;program[_0x346725(0x95)](new Option(_0x346725(0xb2),'Action\x20type')[_0x346725(0x9b)](['1','2']))[_0x346725(0xa1)](!![]),program[_0x346725(0x86)]();const _0x44a5fc=program[_0x346725(0x96)]();_0x401d84=_0x44a5fc?parseInt(_0x44a5fc[_0x346725(0xaa)]):null;if(!_0x401d84){this.#printStartText();let _0x79d862='';while(!![]){_0x79d862=await select({'message':_0x346725(0x9c),'choices':[{'name':'Create\x20session','value':'1','description':'\x0aCreate\x20a\x20new\x20session\x20for\x20the\x20bot'},{'name':'Run\x20bot','value':'2','description':_0x346725(0x74)}]});if(!_0x79d862['trim']()[_0x346725(0xb5)](/^[1-2]$/))logger[_0x346725(0x7b)](_0x346725(0x80));else break;}_0x401d84=parseInt(_0x79d862[_0x346725(0x8d)]());}if(_0x401d84===0x1)register[_0x346725(0x84)]();else{if(_0x401d84===0x2){const _0x23089f=await this.#get_tg_clients();await this.#run_tasks(_0x23089f);}}}async #get_tg_clients(){const _0x5df7f2=a0_0x2aa7e0,_0x2f6d53=this.#get_sessions(),_0x5275a3=_0x2f6d53[_0x5df7f2(0xa5)](_0x5cfdf4=>{const _0x3fa352=_0x5df7f2;try{const _0x35f70a=fs['readFileSync'](path[_0x3fa352(0x7a)](process[_0x3fa352(0x99)](),_0x3fa352(0x9f),_0x5cfdf4+_0x3fa352(0x90)),_0x3fa352(0x78));if(!_0x35f70a){logger[_0x3fa352(0xb7)]('<la><b>'+_0x5cfdf4+_0x3fa352(0xac));return;}const _0x16669c=JSON[_0x3fa352(0x86)](_0x35f70a);(!settings[_0x3fa352(0x8f)]||!settings['API_HASH'])&&(logger['error'](_0x3fa352(0x88)),process[_0x3fa352(0x8b)](0x1));(!_0x16669c[_0x3fa352(0x9a)]||!_0x16669c[_0x3fa352(0xb3)]||!_0x16669c[_0x3fa352(0xb0)])&&(logger['error'](_0x3fa352(0x7d)+_0x5cfdf4+'</b></la>\x20|\x20Invalid\x20session\x20data.\x20Create\x20a\x20new\x20one.'),process[_0x3fa352(0x8b)](0x1));!/^\d+$/[_0x3fa352(0x98)](_0x16669c[_0x3fa352(0xb3)])&&(logger['error'](_0x3fa352(0x7d)+_0x5cfdf4+_0x3fa352(0x79)),process[_0x3fa352(0x8b)](0x1));const _0x2bff1c=new StringSession(_0x16669c['sessionString']),_0x21ec5a=new TelegramClient(_0x2bff1c,_0x16669c['apiId'],_0x16669c[_0x3fa352(0xb0)],{'connectionRetries':0x5,'deviceModel':"Vivo V27",'appVersion':"11.3.3",'systemVersion':"14 (34)",'langCode':'en','baseLogger':logger2});return{'tg_client':_0x21ec5a,'session_name':_0x5cfdf4};}catch(_0x569bb3){logger[_0x3fa352(0xb7)](_0x3fa352(0x7d)+_0x5cfdf4+_0x3fa352(0x83)+_0x569bb3[_0x3fa352(0x9d)]);}});return _0x5275a3;}#get_sessions(){const _0x5f0a71=a0_0x2aa7e0,_0x9ceeba=path[_0x5f0a71(0x7a)](process[_0x5f0a71(0x99)](),_0x5f0a71(0x9f));if(!fs[_0x5f0a71(0x94)](_0x9ceeba))return[];const _0x24bb2d=fs['readdirSync'](_0x9ceeba)['map'](_0x41a2fa=>{const _0x41668b=_0x5f0a71,_0x3e3134=_0x41a2fa[_0x41668b(0x91)]('.session')?_0x41a2fa[_0x41668b(0x77)]('.')[0x0]:null;return _0x3e3134;});return _0x24bb2d;}#get_proxies(){const _0x368c46=a0_0x2aa7e0;if(!settings[_0x368c46(0x8e)])return null;return proxies;}async #run_tasks(_0x3aa9bd){const _0x39c6b4=a0_0x2aa7e0,_0x30c3e3=this.#get_proxies();let _0x559519=_0x30c3e3?_0x30c3e3[Symbol[_0x39c6b4(0xba)]]():null;const _0x470a45=_0x3aa9bd['map'](async _0x20a2cf=>{const _0x39dd3a=_0x39c6b4,_0x3089ec=_0x559519?_0x559519['next']()[_0x39dd3a(0x89)]:null;try{const sleeping=_.random(settings.DELAY_BETWEEN_STARTING_BOT[0],settings.DELAY_BETWEEN_STARTING_BOT[1]);logger.info(`<ye>[dotcoin]</ye> | ${_0x20a2cf.session_name} | Sleeping ${sleeping} seconds before starting the bot`);await sleep(sleeping);await new Tapper(_0x20a2cf)['run'](_0x3089ec);}catch(_0x1e4c27){logger[_0x39dd3a(0xb7)](_0x39dd3a(0xae)+_0x1e4c27[_0x39dd3a(0x9d)]);}});await Promise[_0x39c6b4(0x82)](_0x470a45);}}const luncher=new Luncher();module['exports']=luncher;function a0_0x1b2a(){const _0x45e82f=['apiHash','1.0.0','--action\x20<action>','apiId','5072388JGrjfd','match','../core/tapper','error','28qPOZPv','493045mOxHJD','iterator','\x0aStart\x20the\x20bot','</lb>\x20sessions\x20|\x20<pi>','@inquirer/prompts','split','utf8','</b></la>\x20|\x20Invalid\x20session\x20data.\x20Create\x20a\x20new\x20one.','join','warning','process','<la><b>','isArray','../config/config','Action\x20must\x20be\x201\x20or\x202','./logger','all','</b></la>\x20|\x20Error:\x20','start','264VJYmtp','parse','<ye><u><b>WARNING</b></u></ye>\x20<br\x20/>\x0a<b><bl>en:</bl></b>\x20NOT\x20FOR\x20SALE\x0a<b><bl>ru:</bl></b>\x20НЕ\x20ДЛЯ\x20ПРОДАЖИ\x0a<b><bl>es:</bl></b>\x20NO\x20VENTA\x0a<b><bl>fr:</bl></b>\x20PAS\x20À\x20VENDRE\x0a<b><bl>it:</bl></b>\x20NON\x20PER\x20VENDITA\x0a<b><bl>gh:</bl></b>\x20YƐN\x20TƆN\x0a\x0a<b>For\x20updates\x20and\x20more\x20bots\x20join\x20us:</b>\x20\x0a<la>https://t.me/freddy_bots</la>\x0a','API_ID\x20and\x20API_HASH\x20must\x20be\x20provided.','value','info','exit','log','trim','USE_PROXY_FROM_FILE','API_ID','.session','endsWith','length','telegram/sessions','existsSync','addOption','opts','commander','test','cwd','sessionString','choices','What\x20would\x20you\x20like\x20to\x20do:\x0a','message','21kHtoSY','sessions','../config/proxies','showHelpAfterError','paragraph','508529wOflxL','118498XScFcV','map','./TldLogger','7752767ibKVKm','9pJUceb','\x0a╔═══╗\x20\x20\x20\x20\x20╔╗\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20╔══╗\x20\x20\x20\x20\x20\x20╔╗\x20\x0a╚╗╔╗║\x20\x20\x20\x20╔╝╚╗\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20║╔╗║\x20\x20\x20\x20\x20╔╝╚╗\x0a\x20║║║║╔══╗╚╗╔╝╔══╗╔══╗╔╗╔═╗\x20║╚╝╚╗╔══╗╚╗╔╝\x0a\x20║║║║║╔╗║\x20║║\x20║╔═╝║╔╗║╠╣║╔╗╗║╔═╗║║╔╗║\x20║║\x20\x0a╔╝╚╝║║╚╝║\x20║╚╗║╚═╗║╚╝║║║║║║║║╚═╝║║╚╝║\x20║╚╗\x0a╚═══╝╚══╝\x20╚═╝╚══╝╚══╝╚╝╚╝╚╝╚═══╝╚══╝\x20╚═╝\x20\x0a©\x20Vivo\x20V27\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x0a\x0a','action','115241YdAQKJ','</b></la>\x20|\x20Session\x20is\x20empty\x20or\x20expired.\x20Create\x20a\x20new\x20one.','1758440OquVKa','Error\x20in\x20task\x20for\x20tg_client:\x20','Vivo\x20V27'];a0_0x1b2a=function(){return _0x45e82f;};return a0_0x1b2a();}